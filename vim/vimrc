call plug#begin('~/.vim/plugged')

Plug 'tpope/vim-sensible'
Plug 'tpope/vim-repeat'
Plug 'tpope/vim-surround'
Plug 'tpope/vim-fugitive'

Plug 'morhetz/gruvbox'

Plug 'junegunn/fzf', { 'dir': '~/.fzf', 'do': './install --all' }
Plug 'junegunn/fzf.vim'

Plug 'airblade/vim-gitgutter'
Plug 'christoomey/vim-tmux-navigator'

Plug 'benekastah/neomake'

Plug 'jiangmiao/auto-pairs'

" Deoplete
Plug 'zchee/deoplete-go', { 'do': 'make'}
Plug 'carlitux/deoplete-ternjs', { 'do': 'npm install -g tern' }
Plug 'mhartington/deoplete-typescript'
Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }

" Golang
Plug 'fatih/vim-go'

" Syntax highlighting
Plug 'leafgarland/typescript-vim', { 'for': 'typescript' }
Plug 'mfukar/robotframework-vim'
Plug 'pangloss/vim-javascript', { 'for': 'javascript' }
Plug 'othree/javascript-libraries-syntax.vim', { 'for': 'javascript' }

call plug#end()

" Colorscheme
set background=dark
colorscheme gruvbox

" Map leader key to space
noremap <Space> <NOP>
let mapleader = " "

" Gitgutter
let g:gitgutter_realtime = 0
let g:gitgutter_eager = 0

" CTRL+Arrows to resize splits
nnoremap <C-left> :vertical resize -5<cr>
nnoremap <C-down> :resize +5<cr>
nnoremap <C-up> :resize -5<cr>
nnoremap <C-right> :vertical resize +5<cr>

" Typos
command WQ wq
command Wq wq
command W w
command Q q
nnoremap K <NOP>

" Undo & history & swp files
set undofile
set undodir=~/.vim/undodir//
set history=1000
set backupdir=~/.vim/backupdir//
set directory=~/.vim/swapfiles//

" Show column 80
set colorcolumn=80

" Buffer buffer
set hidden
nnoremap ä :bnext<CR>
nnoremap ö :bprev<CR>
map <C-c> :bd<cr>

" Neomake
autocmd! BufWritePost * Neomake

" Deoplete
let g:deoplete#enable_at_startup = 1
autocmd InsertLeave,CompleteDone * if pumvisible() == 0 | pclose | endif

" FZF
nnoremap <C-p> :Files<CR>
map <Leader>b :Buffers<cr>

" Linenumbers
set relativenumber
set number

" Encodings
set encoding=utf-8
set fileencoding=utf-8

" Search
set hlsearch
set incsearch
set ignorecase

" Scroll
set scrolloff=8
set sidescrolloff=15

set list listchars=eol:$,tab:>-,trail:~,extends:>,precedes:<,nbsp:+
highlight ExtraWhitespace ctermbg=red guibg=red
match ExtraWhitespace /\s\+$/

" Tags
noremap <leader>g <C-]>
noremap <leader>f g]

set ts=2
set shiftwidth=2
set expandtab
set nostartofline
